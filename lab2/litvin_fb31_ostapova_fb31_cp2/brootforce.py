import re

ALPH = 'абвгдежзийклмнопрстуфхцчшщъыьэюя'

base_key = 'радущийсявтеник'

raw_text = """
фшхмчдлищялхеьхъпыюгшкъовсдчтъцзвосшьцляпасогифгрмйм
ходцвдтнысъоназяцяихэудтпбкдяюхцмлкцущицшзддлилйзоъчхэтхвфшенцсмзвефмктапбкдцщждепнутиьубктщщоэфеши
рхсцтжииуъдчцчичрдпуытчъахэудхтъатеьыфрэычиычшърялщфмяпрцеюуксозбыныцпмтстмххнсовщобничрягуэоыазсыд
лвяпыъшаырддилщквгбъиврсцбдрясврфуэзьдоожктйынеачыфкуасшэцьийкбхыахюгтблтчгнтаиыхпьозжлрртядъчйщйшп
тафхоурзтхврцргмэзшчьддгчписрсцыдифэнычтъыиурчфффуслпчсхрссицжчъоьдетсхфшбттхмжыщфрднвцыыожазкъыкз
бкоцнртйтицъьдфаиыткъезбжилцрфърнщьряршдтсжврвусщфшхжбйрбцйуьххчтввяхющусвхэдтъмхтйгзтхцгнчтъцтыесы
ыцшьъдечыйхркдвзхчимрюшънлгнттыщоцшзгчыжыыижлбщевсзяблпорнмтбщыспвсцйхпиежшдрынрбътяытжигыецтчз
фчоюттщоуолпйвсвфрмжьтспжсрлссюгдпътиисжжцаюнеаиышшфасызмцсгвшкьыывысащзььзштттфшцецффъегямаояря
юйтдзйоюмрпчнлохжмхмъыякюьуымчшлдхзяцщйкфтыятфопщжгкмсющзаттърядфаьбчвлнткцгстгюэщсоблнцъэвжйвхзц
щхвьуяцъюгтжяньвозэньцбшсцылдуспоттърфшпфшямоидощеорьмсгхгиудэпъжамжйеппжицяцюзхнчтчообжщохъчцущц
мърдчмбйррбфуядцхгфтахйррруечиьпжйюзннмфвянтхштиыэщшйшарытхтктокыэицщзуфутсрхрцхфпйвсэфэтлшторцднъ
шяитчифмяоцазсфсгрянъцрюмьжекфсбмтъхфкбтйгктсжгвшкьцчючдяыхоынфахиэтчнмигршцкввеоцьрнмкюлчосрхуънл
ллтащъоэмрышфтшщупбртодйхдеъхшщвушйрцдсхюеъичшчйцзтщялзднерчлиргщтйудфчхытышлааюнрсвхэдшкфаыьуо
щыспэзмсичшймешооьъзгкэгпюбпугишямзгрхщжяосшъыъьндяуюъкфоебддбщфсеэхщьлхтхюючтмвшемхпсехафсудорэ
жтщщхчсовлььюмтзтъпалддгцлястчфнумюлтдфхчрмзгстучркмамъехяичпнчииосдщлчгцфалтеьюкдэъгчгбзйемхкьовязус
гбхгрнкчлйебькъцфдахыкорлчлщфкякюккдыьъохебайфзфахычхшвяшсимщцзэупнфрктезшдцмзгсылщаизюмасгыжтлтъэ
ьасгщщшякйтгжрубяхшйцпцкфаоъифшпасжиныяочтъцуьохезкчъбуацтмчхйжоюфуцпвгфыукуавмюсърмвгчтхпчддабзцс
отачхкйчаршлрфэзоартъчюеобднксмкчзыъжьеоезъчапбйкящйпвхязъщцкусзднъэиппжызюнщоттъщюкдъщучвыуэнетшьв
тюжызвыдалхмкэимающькдудзажгшхсшишсрспацянубтдгюжцсбзвтынбмяцблшотндтчтужэаггмтйдгзвлнукьестжихцрфч
пнтллгтхзшивсрыуоцрфиймюхоупзюдвщкэктгенцррршххяьюжйвйцсвфрцняхквищбвъоэмрышшцбъефшенъьдпянчцмзеп
бынуанмтмнуыпилъщччунтачныхшцяыъгъгпэюэнлшьпйгюэчхюыъспйпундвйилщкусзщцибттгзхьхтттпхутердфйняцрнъ
усрчиахещныусзютыъпбктгюнлвдеафтшмюещгщйщцхэцушлшэекыыыыумвккщфтаещблзндпвьняцрхехюбццщмзкшягчр
шйцзщфсбпаиытшаоптгиуядпчуяушцнтшэнфяжвгчнктыожовъсцвряеъцбэувждрядвжчйнопьахюшхдцуряеэрчхгтгюусанс
вуоыувесувъсенптхжрфрктезшдъбэгшъньтэцбышоэюпацптъюмйлжызгыоевяцмхдааюъсжззфхтфпэаобьмйбдгчтытыяооб
вхчэнебхысьшвхуеызфкхзшлхшзьмъзмцяврьуъюкрвйаэыхсбжвшрцушссыехсидеажихпблчкбучвыщчрыкпъпфыъусчянгд
пгыюкмьоцщячрюуухшбкдъщъетнетчыцохтяьйыускзшняхкауобшъсапкэндхшуоршриъьтиъчпирэонлбауцмвфкэхшхоею
щтйвмрфеъищюллюбхйюдгамнтълвххзрхгднаспгывууыыасцмвяконстелчфруанняуцъжьеибъилщквгбядцркфбенбюябсш
унчхсрбьшйшвнсйтъжыиъукчойяычиыяпыожшгичюорвепхйысгдзфцяикцеунчхздяюъсьскзуюъшпщчсыъоюзфчтйныыие
ошпйжнфчрхчъютгамущдйхдуюхйыбяжжнмярсадюищгздефсуячзэкчхшпнйяюуущимтхщичэиоклцкмовцеядьрксыатчупз
юкъицюлтчзщыщгвфтыткэупыыуогтжтнюыомбдвзмъыяйнзнукзттдюсасрпчцяцтвнйезяыягзвинъжбядчщоофкхуучцолшд
ехкцщчзяеьшшвижехфйумрфбьштилдхоичгзщчцчцпфвмщюхсцбуьньийшкпжъзънцзвтифатецэзфъэдтднхзсрмйгдннцмзс
уяыррсдыаъеэъднхпихрсаехфйапкядпцлыиыпютщмквдурцыгщйдлкйхдоатнщъюгдезсмякрфуцяпаеубехйынфахысышяп
ыщудцтйьнтлхрздыгиуьядътнщнюроуйусындефнукэахвюайкдеаьтуштеоуишсхядъзтлшбвтыекцдчкдкшдчлмжшкцхидназ
тттчддюыцшьыттттхшщктлгршяоэдешщйтыщхщъсгыгчцьцххзсовфоимрдбщиыьяпуыщчвянтфылхютмющхчимрхуьыьэи
оубщькдудзытпьбябжццщаээуппцллтхжцаюнзажшибэойаюйчдмргдющшсондынпцдосцыицюжйебмьйтххушдчючйгжгтв
зневяхкьизяюуеымхэзыйхрчсбехчимрюттйпшихкюпивсввешщйгсубгцсгыжнънхтхтжуйдццжвюкярхрттцзтыябучвяцмаер
тжиюягкэцмхкяртебкццдпакюутсыглюкоьыперюзпблмффзюясюяещрниежшддцдкусншряютгффпйхъътрдыьмгфбеяогнр
яеоглаохыдиънмвюкъзтчнмлбпнсмксиснщюдкыэифскзхпажоюбякмччудйэупцбхрйчжцтбяйюттцбхнавзкошкрейняктофу
янцкзптпнчъшзсушкфпарысхлцюжйезълцппечйщйэоубгичюяуасъцупмтцмпйюзотчйщйбвтыекчбндгпхфъхмйддцхусзют
ыфэулчдзщохмзхуфмкэигебэчазуьтаукърядщпйюдлцхалкпвсшънчжнфсцйпкярмвзпнюздкнщрыпивахщущлкюуягхмкдяб
чщякздкшиххтчкщзхмчюафнщчюсцперцябвэещцрэоугзмчьевдбьыьмятеэнфщкусуящьхняыкъйбябгбснъцацпкзцсзгартнь
хмсооыасрфьупыхшцячырцдкусйнужиесыръчюдеазыштыотддыащбъчсюзчхсобддуялкяшяхкчаиждрясаээещцхзапыыгхщ
джътюъмхнсоещлщгздкшнцэоыазсчжнфнйтфшэаодриъгыаэшъгчхбяюзчьйзудатцлыаоуыхчуыптфыусыимдишигянъуялш
аоиуакошгэбукъшьуцшжркмкргпыужъочцзмцяаэгчэгциазбехощжжтзнзырптцщфсюззцнъцнюзжжгииадтчстбкысгблпнсм
кспфмкэивыаъоюзддкъдэыиъуинуспзыуюъкыахпицрсгксцпнъэупхинщцтнапъищаажбамовыфеснхлллзжтнчюнгфушифш
вдюенцрлбхпхфтыаууермьтъъреиншсогфкйьнфхрнпходйьбхоьэжчопъпэиубкцъцгудзашкчддюзщейтъепнхжхялуенщурот
чэрмряхпыщобничряыиьгпжыцщмлрэусгпйесэбтьхядтссццрсцшйишягиъйнжьэоыазлчфтнспархшгтезкигрббудрывицпкч
икзчхуэцррнлшднцмрнъэчцциуртлщфщчмасъншяыцафкчбъсвубрщхрйцзкйбздтгящйцехещфсюдкщйнжьиуруэипцбфтпы
счючмэзлнсвхгчтжгшйпыитсъсхюеълкбицхкнрутмъдьшшбктюхпцдктсйыфыэирыщкчбзъьнсирхнйъщфогзнъчтхжвеспыъ
оюзуэуухшгвмчюъеюдрбаяхшьузющпьунйянчушфуфуптчцгздцчцпцепужроуъуьудрьмилемфйюякххыффюсоуаиынахъс
путжосбыччьмзюуухшэафхщъевюптцшыбрйсовхччсзюжыупхчцбжнацврбшриьммтюзтчвнуазянцэынвюшодкрьпыхбшлх
тбхйузукнтфърчсоющыцмэцущцмтииуыасжбядущфтаемгщмчвсюъиышпаелэзшйшнъэнюдмбттгзхдроргсыъъхлсужнкябз
дкэкыхтдэбшйшнеяешупэижоюцкьямтнънлюпфшышйгзнацйкыъацшйъеюямачышшщбтцщъоъпвгцичкымтаюъдвнфянхъ
ебяыыакошгочхгихшмсшкхотяядуцэшыоиазсфцспчоъцбмюххюъфяйвьйънцчдйдхлчбднъусрчючсоюьчюятъпнтчшкдэшх
йжнжърюзчроиазссшхзячэихмняииучкяжчорцъюддынццспыъпххпбмтейзцсрдаоюъърхеодрчтюйттикеяопашъевбррхнйш
вуующфиенптхтссрктхщхцяддгчттхпнсоютчьовьнэиссрддфкйьндапэынбеетизыюяжвууигхгтдынысзчтуярбэыйеюхсэннй
ешрмюппткифщмвгчтхкеузгчфджгрюупеьюппбоццсгзрцйяьюптцзхвщйдччтшыэожуишсуджччюнълхужсръгъчазтючрнй
фзишяйвбххмпвсгчюшпссюгдянчшжржтнтвюмгчтхкьвядзтсжжжттхсфюттгщзъгянтжшноэоныиымьздаоыъмхзишкывцвр
гзтък
"""

def normalize(text):
    text = text.lower().replace('ё', 'е')
    return re.sub(f'[^{ALPH}]', '', text)

def decrypt(ciphertext, key):
    key_indices = [ALPH.index(k) for k in key]
    plaintext = ''
    for i, char in enumerate(ciphertext):
        key_char_index = key_indices[i % len(key)]
        char_index = ALPH.index(char)
        decrypted_char_index = (char_index - key_char_index + len(ALPH)) % len(ALPH)
        plaintext += ALPH[decrypted_char_index]
    return plaintext

print("--- Перебор циклических сдвигов ключа ---")
print(f"Базовый ключ: {base_key}")
print(f"Длина ключа: {len(base_key)}")

normalized_text = normalize(raw_text)

for i in range(len(base_key)):
    shifted_key = base_key[i:] + base_key[:i]

    decrypted_text = decrypt(normalized_text, shifted_key)

    snippet = decrypted_text[:50]
    print(f"Ключ: {shifted_key:<20} | Начало: {snippet}")